{"ast":null,"code":"import _objectSpread from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useEffect,useState}from\"react\";import Toaster from\"../components/Toaster\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DEFAULT_ATTRIBUTE={title:\"Info\",message:\"Info\",autoClose:true,autoCloseDuration:3000};export var ToasterContext=/*#__PURE__*/createContext({});export var ToasterProvider=function ToasterProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1];var _useState3=useState(DEFAULT_ATTRIBUTE),_useState4=_slicedToArray(_useState3,2),attributes=_useState4[0],setAttributes=_useState4[1];var close=function close(){setOpen(false);};var open=function open(attr){setOpen(true);setAttributes(_objectSpread(_objectSpread({},DEFAULT_ATTRIBUTE),attr));};useEffect(function(){if(attributes.autoClose){var duration=attributes.autoCloseDuration||3000;var autoClose=setTimeout(function(){return close();},duration);return function(){return clearTimeout(autoClose);};}},[attributes]);return/*#__PURE__*/_jsxs(ToasterContext.Provider,{value:{open:open,close:close,isOpen:isOpen},children:[children,/*#__PURE__*/_jsx(Toaster,{open:isOpen,onClose:close,message:attributes.message,title:attributes.title,variant:attributes.variant||\"info\"})]});};export function useToaster(){return useContext(ToasterContext);}export default useToaster;","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","Toaster","jsx","_jsx","jsxs","_jsxs","DEFAULT_ATTRIBUTE","title","message","autoClose","autoCloseDuration","ToasterContext","ToasterProvider","_ref","children","_useState","_useState2","_slicedToArray","isOpen","setOpen","_useState3","_useState4","attributes","setAttributes","close","open","attr","_objectSpread","duration","setTimeout","clearTimeout","Provider","value","onClose","variant","useToaster"],"sources":["/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/src/context/ToasterContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from \"react\";\nimport Toaster, { ToasterVariant } from \"../components/Toaster\";\n\ninterface ToasterAttributes {\n  title?: string;\n  message?: string;\n  variant?: ToasterVariant;\n  actionText?: string;\n  actionCallback?: () => void;\n  autoClose?: boolean;\n  autoCloseDuration?: number;\n}\n\ninterface ToasterContextInterface {\n  isOpen: boolean;\n  close: () => void;\n  open: (attr: ToasterAttributes) => void;\n}\n\ninterface ToasterProviderProps {\n  children: React.ReactNode;\n}\n\nconst DEFAULT_ATTRIBUTE = {\n  title: \"Info\",\n  message: \"Info\",\n  autoClose: true,\n  autoCloseDuration: 3000,\n};\n\nexport const ToasterContext = createContext({} as ToasterContextInterface);\n\nexport const ToasterProvider = ({ children }: ToasterProviderProps) => {\n  const [isOpen, setOpen] = useState(false);\n  const [attributes, setAttributes] =\n    useState<ToasterAttributes>(DEFAULT_ATTRIBUTE);\n\n  const close = () => {\n    setOpen(false);\n  };\n\n  const open = (attr: ToasterAttributes) => {\n    setOpen(true);\n    setAttributes({\n      ...DEFAULT_ATTRIBUTE,\n      ...attr,\n    });\n  };\n\n  useEffect(() => {\n    if (attributes.autoClose) {\n      const duration = attributes.autoCloseDuration || 3000;\n      const autoClose = setTimeout(() => close(), duration);\n      return () => clearTimeout(autoClose);\n    }\n  }, [attributes]);\n\n  return (\n    <ToasterContext.Provider value={{ open, close, isOpen }}>\n      {children}\n      <Toaster\n        open={isOpen}\n        onClose={close}\n        message={attributes.message}\n        title={attributes.title}\n        variant={attributes.variant || \"info\"}\n      />\n    </ToasterContext.Provider>\n  );\n};\n\nexport function useToaster() {\n  return useContext(ToasterContext);\n}\n\nexport default useToaster;\n"],"mappings":"6RAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC7E,MAAO,CAAAC,OAAO,KAA0B,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAsBhE,GAAM,CAAAC,iBAAiB,CAAG,CACxBC,KAAK,CAAE,MAAM,CACbC,OAAO,CAAE,MAAM,CACfC,SAAS,CAAE,IAAI,CACfC,iBAAiB,CAAE,IACrB,CAAC,CAED,MAAO,IAAM,CAAAC,cAAc,cAAGd,aAAa,CAAC,CAAC,CAA4B,CAAC,CAE1E,MAAO,IAAM,CAAAe,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAAC,IAAA,CAA2C,IAArC,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACxC,IAAAC,SAAA,CAA0Bf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,MAAM,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACtB,IAAAI,UAAA,CACEpB,QAAQ,CAAoBM,iBAAiB,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IADzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAGhC,GAAM,CAAAG,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClBL,OAAO,CAAC,KAAK,CAAC,CAChB,CAAC,CAED,GAAM,CAAAM,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAIC,IAAuB,CAAK,CACxCP,OAAO,CAAC,IAAI,CAAC,CACbI,aAAa,CAAAI,aAAA,CAAAA,aAAA,IACRrB,iBAAiB,EACjBoB,IAAI,CACR,CAAC,CACJ,CAAC,CAED3B,SAAS,CAAC,UAAM,CACd,GAAIuB,UAAU,CAACb,SAAS,CAAE,CACxB,GAAM,CAAAmB,QAAQ,CAAGN,UAAU,CAACZ,iBAAiB,EAAI,IAAI,CACrD,GAAM,CAAAD,SAAS,CAAGoB,UAAU,CAAC,iBAAM,CAAAL,KAAK,CAAC,CAAC,GAAEI,QAAQ,CAAC,CACrD,MAAO,kBAAM,CAAAE,YAAY,CAACrB,SAAS,CAAC,GACtC,CACF,CAAC,CAAE,CAACa,UAAU,CAAC,CAAC,CAEhB,mBACEjB,KAAA,CAACM,cAAc,CAACoB,QAAQ,EAACC,KAAK,CAAE,CAAEP,IAAI,CAAJA,IAAI,CAAED,KAAK,CAALA,KAAK,CAAEN,MAAM,CAANA,MAAO,CAAE,CAAAJ,QAAA,EACrDA,QAAQ,cACTX,IAAA,CAACF,OAAO,EACNwB,IAAI,CAAEP,MAAO,CACbe,OAAO,CAAET,KAAM,CACfhB,OAAO,CAAEc,UAAU,CAACd,OAAQ,CAC5BD,KAAK,CAAEe,UAAU,CAACf,KAAM,CACxB2B,OAAO,CAAEZ,UAAU,CAACY,OAAO,EAAI,MAAO,CACvC,CAAC,EACqB,CAAC,CAE9B,CAAC,CAED,MAAO,SAAS,CAAAC,UAAUA,CAAA,CAAG,CAC3B,MAAO,CAAArC,UAAU,CAACa,cAAc,CAAC,CACnC,CAEA,cAAe,CAAAwB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}