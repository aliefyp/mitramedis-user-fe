{"ast":null,"code":"import _toConsumableArray from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import FormSection from\"components/FormSection\";import ModalNewPrescription from\"./ModalNewPrescription\";import CardPrescription from\"./CardPrescription\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Step5Prescription=function Step5Prescription(_ref){var show=_ref.show,defaultValues=_ref.defaultValues,navigation=_ref.navigation,onSubmit=_ref.onSubmit;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showPrescriptionModal=_useState2[0],setShowPrescriptionModal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showCustomPrescription=_useState4[0],setShowCustomPrescription=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),medicines=_useState6[0],setMedicines=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),custMedicines=_useState8[0],setCustMedicines=_useState8[1];var handleAddMedicine=function handleAddMedicine(med){setShowPrescriptionModal(false);if(showCustomPrescription){setCustMedicines([].concat(_toConsumableArray(custMedicines),[med]));}else{setMedicines([].concat(_toConsumableArray(medicines),[med]));}};var handleDeleteMedicine=function handleDeleteMedicine(isCustom,index){if(isCustom){setCustMedicines(custMedicines.filter(function(_,i){return i!==index;}));}else{setMedicines(medicines.filter(function(_,i){return i!==index;}));}};var handleAddMoreClick=function handleAddMoreClick(isCustom){setShowCustomPrescription(isCustom);setShowPrescriptionModal(true);};var handleSubmit=function handleSubmit(){onSubmit([].concat(_toConsumableArray(medicines),_toConsumableArray(custMedicines)));};if(!show)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-6\",children:[/*#__PURE__*/_jsx(FormSection,{title:\"Obat Non-Racikan\",className:\"space-y-4\",children:/*#__PURE__*/_jsx(CardPrescription,{items:medicines,buttonWording:\"Tambah Obat\",onAdd:function onAdd(){return handleAddMoreClick(false);},onDelete:function onDelete(index){return handleDeleteMedicine(false,index);}})}),/*#__PURE__*/_jsx(FormSection,{title:\"Obat Racikan\",className:\"space-y-4\",children:/*#__PURE__*/_jsx(CardPrescription,{items:custMedicines,buttonWording:\"Tambah Obat Racikan\",onAdd:function onAdd(){return handleAddMoreClick(true);},onDelete:function onDelete(index){return handleDeleteMedicine(true,index);}})})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:navigation}),/*#__PURE__*/_jsx(ModalNewPrescription,{isCustomPrescription:showCustomPrescription,open:showPrescriptionModal,onClose:function onClose(){return setShowPrescriptionModal(false);},onSubmit:function onSubmit(med){return handleAddMedicine(med);}})]});};export default Step5Prescription;","map":{"version":3,"names":["useState","FormSection","ModalNewPrescription","CardPrescription","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Step5Prescription","_ref","show","defaultValues","navigation","onSubmit","_useState","_useState2","_slicedToArray","showPrescriptionModal","setShowPrescriptionModal","_useState3","_useState4","showCustomPrescription","setShowCustomPrescription","_useState5","_useState6","medicines","setMedicines","_useState7","_useState8","custMedicines","setCustMedicines","handleAddMedicine","med","concat","_toConsumableArray","handleDeleteMedicine","isCustom","index","filter","_","i","handleAddMoreClick","handleSubmit","children","className","title","items","buttonWording","onAdd","onDelete","isCustomPrescription","open","onClose"],"sources":["/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/src/pages/MedicalRecordForm/components/Step5Prescription.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport FormSection from \"components/FormSection\";\nimport ModalNewPrescription from \"./ModalNewPrescription\";\nimport CardPrescription from \"./CardPrescription\";\nimport { FormPrescriptionType } from \"../interface\";\n\nconst Step5Prescription = ({ show, defaultValues, navigation, onSubmit }) => {\n  const [showPrescriptionModal, setShowPrescriptionModal] = useState(false);\n  const [showCustomPrescription, setShowCustomPrescription] = useState(false);\n  const [medicines, setMedicines] = useState<FormPrescriptionType[]>([]);\n  const [custMedicines, setCustMedicines] = useState<FormPrescriptionType[]>(\n    []\n  );\n\n  const handleAddMedicine = (med) => {\n    setShowPrescriptionModal(false);\n\n    if (showCustomPrescription) {\n      setCustMedicines([...custMedicines, med]);\n    } else {\n      setMedicines([...medicines, med]);\n    }\n  };\n\n  const handleDeleteMedicine = (isCustom: boolean, index: number) => {\n    if (isCustom) {\n      setCustMedicines(custMedicines.filter((_, i) => i !== index));\n    } else {\n      setMedicines(medicines.filter((_, i) => i !== index));\n    }\n  };\n\n  const handleAddMoreClick = (isCustom: boolean) => {\n    setShowCustomPrescription(isCustom);\n    setShowPrescriptionModal(true);\n  };\n\n  const handleSubmit = () => {\n    onSubmit([...medicines, ...custMedicines]);\n  };\n\n  if (!show) return null;\n\n  return (\n    <>\n      <div className=\"px-6\">\n        <FormSection title=\"Obat Non-Racikan\" className=\"space-y-4\">\n          <CardPrescription\n            items={medicines}\n            buttonWording=\"Tambah Obat\"\n            onAdd={() => handleAddMoreClick(false)}\n            onDelete={(index) => handleDeleteMedicine(false, index)}\n          />\n        </FormSection>\n        <FormSection title=\"Obat Racikan\" className=\"space-y-4\">\n          <CardPrescription\n            items={custMedicines}\n            buttonWording=\"Tambah Obat Racikan\"\n            onAdd={() => handleAddMoreClick(true)}\n            onDelete={(index) => handleDeleteMedicine(true, index)}\n          />\n        </FormSection>\n      </div>\n      <form onSubmit={handleSubmit}>{navigation}</form>\n\n      <ModalNewPrescription\n        isCustomPrescription={showCustomPrescription}\n        open={showPrescriptionModal}\n        onClose={() => setShowPrescriptionModal(false)}\n        onSubmit={(med) => handleAddMedicine(med)}\n      />\n    </>\n  );\n};\n\nexport default Step5Prescription;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}