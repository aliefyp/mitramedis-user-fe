{"ast":null,"code":"import{useEffect}from\"react\";import PageHeading from\"components/PageHeading\";import MedicalRecordFilter from\"./components/MedicalRecordFilter\";import MedicalRecordTable from\"./components/MedicalRecordTable\";// import ModalMedicalRecordPreview from \"./components/ModalMedicalRecordPreview\";\nimport{useLocation,useNavigate}from\"react-router-dom\";import{useAllMedicalRecord,useDeleteMedicalRecord}from\"api/medicalRecord\";import Button from\"components/Button\";import{TbPlus}from\"react-icons/tb\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MedicalRecordPage=function MedicalRecordPage(){var _data$data,_data$data$data,_data$data2,_data$data2$data;var location=useLocation();var navigate=useNavigate();var _useAllMedicalRecord=useAllMedicalRecord(),data=_useAllMedicalRecord.data,isFetching=_useAllMedicalRecord.isFetching,setPage=_useAllMedicalRecord.setPage,refetch=_useAllMedicalRecord.refetch;var deleteMedicalRecord=useDeleteMedicalRecord();var handleEditMedicalRecord=function handleEditMedicalRecord(id){navigate(\"/pasien/edit/\".concat(id));};var handleViewMedicalRecord=function handleViewMedicalRecord(medical_record_number){navigate(\"/rekam-medis?medical_record_number=\".concat(medical_record_number));};var handleDeleteMedicalRecord=function handleDeleteMedicalRecord(id){deleteMedicalRecord.mutate({medical_record_id:id});};var handleSubmitFilter=function handleSubmitFilter(filter){var query=new URLSearchParams(filter).toString();navigate(\"\".concat(location.pathname,\"?\").concat(query));};useEffect(function(){if(deleteMedicalRecord.isSuccess)refetch();},[deleteMedicalRecord.isSuccess,refetch]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeading,{title:\"Data Rekam Medis\",breadcrumbs:[{text:\"Rekam Medis\"}],children:/*#__PURE__*/_jsx(Button,{className:\"w-full sm:w-auto\",onClick:function onClick(){return navigate(\"/rekam-medis/new\");},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(TbPlus,{}),\"Rekam Medis Baru\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(MedicalRecordFilter,{onSubmit:handleSubmitFilter}),/*#__PURE__*/_jsx(MedicalRecordTable,{data:(data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$data=_data$data.data)===null||_data$data$data===void 0?void 0:_data$data$data.medical_record)||[],pagination:data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$data=_data$data2.data)===null||_data$data2$data===void 0?void 0:_data$data2$data.pagination,loading:isFetching,onPageChange:setPage,onDelete:handleDeleteMedicalRecord,onEdit:handleEditMedicalRecord,onSelect:handleViewMedicalRecord})]})]});};export default MedicalRecordPage;","map":{"version":3,"names":["useEffect","PageHeading","MedicalRecordFilter","MedicalRecordTable","useLocation","useNavigate","useAllMedicalRecord","useDeleteMedicalRecord","Button","TbPlus","jsx","_jsx","jsxs","_jsxs","MedicalRecordPage","_data$data","_data$data$data","_data$data2","_data$data2$data","location","navigate","_useAllMedicalRecord","data","isFetching","setPage","refetch","deleteMedicalRecord","handleEditMedicalRecord","id","concat","handleViewMedicalRecord","medical_record_number","handleDeleteMedicalRecord","mutate","medical_record_id","handleSubmitFilter","filter","query","URLSearchParams","toString","pathname","isSuccess","children","title","breadcrumbs","text","className","onClick","onSubmit","medical_record","pagination","loading","onPageChange","onDelete","onEdit","onSelect"],"sources":["/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/src/pages/MedicalRecord/index.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport PageHeading from \"components/PageHeading\";\nimport MedicalRecordFilter from \"./components/MedicalRecordFilter\";\nimport MedicalRecordTable from \"./components/MedicalRecordTable\";\n// import ModalMedicalRecordPreview from \"./components/ModalMedicalRecordPreview\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport { useAllMedicalRecord, useDeleteMedicalRecord } from \"api/medicalRecord\";\nimport Button from \"components/Button\";\nimport { TbPlus } from \"react-icons/tb\";\n\nconst MedicalRecordPage = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { data, isFetching, setPage, refetch } = useAllMedicalRecord();\n  const deleteMedicalRecord = useDeleteMedicalRecord();\n\n  const handleEditMedicalRecord = (id: string) => {\n    navigate(`/pasien/edit/${id}`);\n  };\n\n  const handleViewMedicalRecord = (medical_record_number: string) => {\n    navigate(`/rekam-medis?medical_record_number=${medical_record_number}`);\n  };\n\n  const handleDeleteMedicalRecord = (id: string) => {\n    deleteMedicalRecord.mutate({ medical_record_id: id });\n  };\n\n  const handleSubmitFilter = (filter) => {\n    const query = new URLSearchParams(filter).toString();\n    navigate(`${location.pathname}?${query}`);\n  };\n\n  useEffect(() => {\n    if (deleteMedicalRecord.isSuccess) refetch();\n  }, [deleteMedicalRecord.isSuccess, refetch]);\n\n  return (\n    <div>\n      <PageHeading\n        title=\"Data Rekam Medis\"\n        breadcrumbs={[{ text: \"Rekam Medis\" }]}\n      >\n        <Button\n          className=\"w-full sm:w-auto\"\n          onClick={() => navigate(\"/rekam-medis/new\")}\n        >\n          <div className=\"flex items-center gap-4\">\n            <TbPlus />\n            Rekam Medis Baru\n          </div>\n        </Button>\n      </PageHeading>\n      <div className=\"space-y-4\">\n        <MedicalRecordFilter onSubmit={handleSubmitFilter} />\n        <MedicalRecordTable\n          data={data?.data?.data?.medical_record || []}\n          pagination={data?.data?.data?.pagination}\n          loading={isFetching}\n          onPageChange={setPage}\n          onDelete={handleDeleteMedicalRecord}\n          onEdit={handleEditMedicalRecord}\n          onSelect={handleViewMedicalRecord}\n        />\n      </div>\n      {/* <ModalMedicalRecordPreview\n        open={showPreview}\n        onClose={() => setShowPreview(false)}\n      /> */}\n    </div>\n  );\n};\n\nexport default MedicalRecordPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}