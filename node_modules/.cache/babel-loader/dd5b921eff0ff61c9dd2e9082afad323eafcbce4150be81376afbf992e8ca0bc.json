{"ast":null,"code":"import _objectSpread from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import Button from\"components/Button\";import Input from\"components/FormInput/Input\";import{useForm}from\"react-hook-form\";import PageHeading from\"components/PageHeading\";import Card from\"components/Card\";import StockOpnameTable from\"./components/StockOpnameTable\";import Typography from\"components/Typography\";import ComboBox from\"components/FormInput/ComboBox\";// const DUMMY_ITEMS = [\n//   {\n//     code: 9203920,\n//     item_name: \"Paracetamol\",\n//     quantity: 1000,\n//     unit: \"Pcs\",\n//     real_quantity: 0,\n//     officer_name: \"\",\n//   },\n// ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StockOpname=function StockOpname(){var _errors$item_name,_errors$code,_errors$date;var _useState=useState(),_useState2=_slicedToArray(_useState,2),filter=_useState2[0],setFilterData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];console.log(filter);var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,errors=_useForm.formState.errors;var submitForm=function submitForm(val){setFilterData(val);};var handleQuantityChange=function handleQuantityChange(index,val){setData(data.map(function(item,i){if(index!==i)return item;return _objectSpread(_objectSpread({},item),{},{real_quantity:val});}));};var handleOfficerChange=function handleOfficerChange(index,val){setData(data.map(function(item,i){if(index!==i)return item;return _objectSpread(_objectSpread({},item),{},{officer_name:val});}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeading,{title:\"Stock Opname\",breadcrumbs:[{text:\"Stok\",url:\"/stok\"},{text:\"Stock Opname\"}]}),/*#__PURE__*/_jsxs(Card,{className:\"mx-auto max-w-screen-xl space-y-6 rounded-2xl border-none\",children:[/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit(submitForm),children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 rounded-t-xl bg-slate-50 px-8 py-4 shadow-md\",children:[/*#__PURE__*/_jsx(ComboBox,_objectSpread({required:true,type:\"text\",label:\"Nama Item\",options:[{key:1,label:\"Obat 1\"},{key:2,label:\"Obat 2\"},{key:3,label:\"Obat 3\"}],placeholder:\"Paracetamol 60 mg / 0,6 mL Drops\",className:\"col-span-3 md:col-span-2\",error:Boolean(errors===null||errors===void 0?void 0:errors.item_name),helper:errors===null||errors===void 0?void 0:(_errors$item_name=errors.item_name)===null||_errors$item_name===void 0?void 0:_errors$item_name.message,onValueChange:function onValueChange(val){return setValue(\"item_name\",val.label);}},register(\"item_name\",{required:{value:true,message:\"Wajib diisi\"}}))),/*#__PURE__*/_jsx(Input,_objectSpread({required:true,type:\"text\",label:\"Kode Item KFA / Barcode\",placeholder:\"9090xxxx\",className:\"col-span-3 md:col-span-1\",error:Boolean(errors===null||errors===void 0?void 0:errors.code),helper:errors===null||errors===void 0?void 0:(_errors$code=errors.code)===null||_errors$code===void 0?void 0:_errors$code.message},register(\"code\",{required:{value:true,message:\"Wajib diisi\"}}))),/*#__PURE__*/_jsx(Input,_objectSpread({required:true,type:\"date\",label:\"Tanggal\",className:\"col-span-3 md:col-span-1\",error:Boolean(errors===null||errors===void 0?void 0:errors.date),helper:errors===null||errors===void 0?void 0:(_errors$date=errors.date)===null||_errors$date===void 0?void 0:_errors$date.message},register(\"date\",{required:{value:true,message:\"Wajib diisi\"}}))),/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-3 mt-2 flex h-full items-center justify-end gap-2 md:col-span-2\",children:[/*#__PURE__*/_jsx(Button,{type:\"reset\",color:\"secondary\",children:\"Reset\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:\"Terapkan\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 px-6 py-2\",children:[/*#__PURE__*/_jsx(Typography,{as:\"h4\",bold:true,children:\"Data Transaksi\"}),/*#__PURE__*/_jsx(StockOpnameTable,{items:data,onQuantityChange:handleQuantityChange,onOfficerChange:handleOfficerChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end gap-2 p-6\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"primary\",children:\"Simpan\"})})]})]});};export default StockOpname;","map":{"version":3,"names":["useState","Button","Input","useForm","PageHeading","Card","StockOpnameTable","Typography","ComboBox","jsx","_jsx","jsxs","_jsxs","StockOpname","_errors$item_name","_errors$code","_errors$date","_useState","_useState2","_slicedToArray","filter","setFilterData","_useState3","_useState4","data","setData","console","log","_useForm","register","handleSubmit","setValue","errors","formState","submitForm","val","handleQuantityChange","index","map","item","i","_objectSpread","real_quantity","handleOfficerChange","officer_name","children","title","breadcrumbs","text","url","className","onSubmit","required","type","label","options","key","placeholder","error","Boolean","item_name","helper","message","onValueChange","value","code","date","color","as","bold","items","onQuantityChange","onOfficerChange"],"sources":["/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/src/pages/StockOpname/index.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport Button from \"components/Button\";\nimport Input from \"components/FormInput/Input\";\nimport { useForm } from \"react-hook-form\";\nimport { StockPurchaseType, StockType } from \"types/stock\";\nimport PageHeading from \"components/PageHeading\";\nimport Card from \"components/Card\";\nimport StockOpnameTable from \"./components/StockOpnameTable\";\nimport Typography from \"components/Typography\";\nimport ComboBox from \"components/FormInput/ComboBox\";\n\ntype EntryType = Pick<StockPurchaseType, \"code\" | \"item_name\">;\ninterface StockOpnameFilterType extends EntryType {\n  date: string;\n}\n\n// const DUMMY_ITEMS = [\n//   {\n//     code: 9203920,\n//     item_name: \"Paracetamol\",\n//     quantity: 1000,\n//     unit: \"Pcs\",\n//     real_quantity: 0,\n//     officer_name: \"\",\n//   },\n// ];\nexport interface Data extends Partial<StockType> {\n  quantity: number;\n  real_quantity: number;\n  officer_name: string;\n}\n\nconst StockOpname = () => {\n  const [filter, setFilterData] = useState<StockOpnameFilterType>();\n  const [data, setData] = useState<Data[]>([]);\n\n  console.log(filter);\n\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n  } = useForm<StockOpnameFilterType>();\n\n  const submitForm = (val: StockOpnameFilterType) => {\n    setFilterData(val);\n  };\n\n  const handleQuantityChange = (index: number, val: number) => {\n    setData(\n      data.map((item, i) => {\n        if (index !== i) return item;\n        return {\n          ...item,\n          real_quantity: val,\n        };\n      })\n    );\n  };\n\n  const handleOfficerChange = (index: number, val: string) => {\n    setData(\n      data.map((item, i) => {\n        if (index !== i) return item;\n        return {\n          ...item,\n          officer_name: val,\n        };\n      })\n    );\n  };\n\n  return (\n    <div>\n      <PageHeading\n        title=\"Stock Opname\"\n        breadcrumbs={[{ text: \"Stok\", url: \"/stok\" }, { text: \"Stock Opname\" }]}\n      />\n      <Card className=\"mx-auto max-w-screen-xl space-y-6 rounded-2xl border-none\">\n        <form onSubmit={handleSubmit(submitForm)}>\n          <div className=\"grid grid-cols-3 gap-4 rounded-t-xl bg-slate-50 px-8 py-4 shadow-md\">\n            {/* item_name */}\n            <ComboBox\n              required\n              type=\"text\"\n              label=\"Nama Item\"\n              options={[\n                { key: 1, label: \"Obat 1\" },\n                { key: 2, label: \"Obat 2\" },\n                { key: 3, label: \"Obat 3\" },\n              ]}\n              placeholder=\"Paracetamol 60 mg / 0,6 mL Drops\"\n              className=\"col-span-3 md:col-span-2\"\n              error={Boolean(errors?.item_name)}\n              helper={errors?.item_name?.message}\n              onValueChange={(val) => setValue(\"item_name\", val.label)}\n              {...register(\"item_name\", {\n                required: {\n                  value: true,\n                  message: \"Wajib diisi\",\n                },\n              })}\n            />\n\n            {/* code */}\n            <Input\n              required\n              type=\"text\"\n              label=\"Kode Item KFA / Barcode\"\n              placeholder=\"9090xxxx\"\n              className=\"col-span-3 md:col-span-1\"\n              error={Boolean(errors?.code)}\n              helper={errors?.code?.message}\n              {...register(\"code\", {\n                required: {\n                  value: true,\n                  message: \"Wajib diisi\",\n                },\n              })}\n            />\n\n            {/* start_date */}\n            <Input\n              required\n              type=\"date\"\n              label=\"Tanggal\"\n              className=\"col-span-3 md:col-span-1\"\n              error={Boolean(errors?.date)}\n              helper={errors?.date?.message}\n              {...register(\"date\", {\n                required: {\n                  value: true,\n                  message: \"Wajib diisi\",\n                },\n              })}\n            />\n\n            <div className=\"col-span-3 mt-2 flex h-full items-center justify-end gap-2 md:col-span-2\">\n              <Button type=\"reset\" color=\"secondary\">\n                Reset\n              </Button>\n              <Button type=\"submit\" color=\"primary\">\n                Terapkan\n              </Button>\n            </div>\n          </div>\n        </form>\n\n        <div className=\"space-y-4 px-6 py-2\">\n          <Typography as=\"h4\" bold>\n            Data Transaksi\n          </Typography>\n          <StockOpnameTable\n            items={data}\n            onQuantityChange={handleQuantityChange}\n            onOfficerChange={handleOfficerChange}\n          />\n        </div>\n        <div className=\"flex justify-end gap-2 p-6\">\n          {/* <Button type=\"button\" color=\"secondary\">\n            Kembali\n          </Button> */}\n          <Button type=\"submit\" color=\"primary\">\n            Simpan\n          </Button>\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default StockOpname;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}