{"ast":null,"code":"import _regeneratorRuntime from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{useSignOut}from\"react-auth-kit\";import{useMutation,useQuery}from\"react-query\";import useAuthHeaders from\"hooks/useAuthHeaders\";export var useAddSupplier=function useAddSupplier(){var signOut=useSignOut();var headers=useAuthHeaders();return useMutation(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(payload){var _err$response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(process.env.REACT_APP_API_ENDPOINT,\"/supplier\"),JSON.stringify(payload),{headers:headers});case 3:return _context.abrupt(\"return\",_context.sent);case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.error(_context.t0);if((_context.t0===null||_context.t0===void 0?void 0:(_err$response=_context.t0.response)===null||_err$response===void 0?void 0:_err$response.status)===401)signOut();case 10:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function(_x){return _ref.apply(this,arguments);};}());};export var useSupplier=function useSupplier(){var signOut=useSignOut();var headers=useAuthHeaders();return useQuery({queryKey:['get-all-supplier'],queryFn:function(){var _queryFn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var _err$response2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"\".concat(process.env.REACT_APP_API_ENDPOINT,\"/supplier\"),{headers:headers});case 3:return _context2.abrupt(\"return\",_context2.sent);case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);if((_context2.t0===null||_context2.t0===void 0?void 0:(_err$response2=_context2.t0.response)===null||_err$response2===void 0?void 0:_err$response2.status)===401)signOut();case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));function queryFn(){return _queryFn.apply(this,arguments);}return queryFn;}()});};","map":{"version":3,"names":["axios","useSignOut","useMutation","useQuery","useAuthHeaders","useAddSupplier","signOut","headers","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","payload","_err$response","wrap","_callee$","_context","prev","next","post","concat","process","env","REACT_APP_API_ENDPOINT","JSON","stringify","abrupt","sent","t0","console","error","response","status","stop","_x","apply","arguments","useSupplier","queryKey","queryFn","_queryFn","_callee2","_err$response2","_callee2$","_context2","get"],"sources":["/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/src/api/supplier.ts"],"sourcesContent":["import axios, { AxiosResponse } from \"axios\"\nimport { useSignOut } from \"react-auth-kit\";\nimport { useMutation, useQuery } from \"react-query\"\nimport useAuthHeaders from \"hooks/useAuthHeaders\";\nimport { SupplierType } from \"types/supplier\";\n\ninterface GetAllSupplierResponse extends AxiosResponse {\n  data: {\n    data: {\n      supplier: SupplierType[];\n    }\n  }\n}\n\nexport const useAddSupplier = () => {\n  const signOut = useSignOut();\n  const headers = useAuthHeaders();\n\n  return useMutation(async (payload: SupplierType) => {\n    try {\n      return await axios.post(`${process.env.REACT_APP_API_ENDPOINT}/supplier`, JSON.stringify(payload), { headers });\n    } catch (err) {\n      console.error(err);\n      if (err?.response?.status === 401) signOut();\n    }\n  })\n}\n\nexport const useSupplier = () => {\n  const signOut = useSignOut();\n  const headers = useAuthHeaders();\n\n  return useQuery<unknown, unknown, GetAllSupplierResponse>({\n    queryKey: ['get-all-supplier'],\n    queryFn: async () => {\n      try {\n        return await axios.get(`${process.env.REACT_APP_API_ENDPOINT}/supplier`, { headers })\n      } catch (err) {\n        console.error(err);\n        if (err?.response?.status === 401) signOut();\n      }\n    },\n  })\n}"],"mappings":"8SAAA,MAAO,CAAAA,KAAK,KAAyB,OAAO,CAC5C,OAASC,UAAU,KAAQ,gBAAgB,CAC3C,OAASC,WAAW,CAAEC,QAAQ,KAAQ,aAAa,CACnD,MAAO,CAAAC,cAAc,KAAM,sBAAsB,CAWjD,MAAO,IAAM,CAAAC,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAClC,GAAM,CAAAC,OAAO,CAAGL,UAAU,CAAC,CAAC,CAC5B,GAAM,CAAAM,OAAO,CAAGH,cAAc,CAAC,CAAC,CAEhC,MAAO,CAAAF,WAAW,6BAAAM,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,OAAqB,MAAAC,aAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE9B,CAAAnB,KAAK,CAACoB,IAAI,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,cAAaC,IAAI,CAACC,SAAS,CAACb,OAAO,CAAC,CAAE,CAAEN,OAAO,CAAPA,OAAQ,CAAC,CAAC,eAAAU,QAAA,CAAAU,MAAA,UAAAV,QAAA,CAAAW,IAAA,SAAAX,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAY,EAAA,CAAAZ,QAAA,aAE/Ga,OAAO,CAACC,KAAK,CAAAd,QAAA,CAAAY,EAAI,CAAC,CAClB,GAAI,CAAAZ,QAAA,CAAAY,EAAA,SAAAZ,QAAA,CAAAY,EAAA,kBAAAf,aAAA,CAAAG,QAAA,CAAAY,EAAA,CAAKG,QAAQ,UAAAlB,aAAA,iBAAbA,aAAA,CAAemB,MAAM,IAAK,GAAG,CAAE3B,OAAO,CAAC,CAAC,CAAC,yBAAAW,QAAA,CAAAiB,IAAA,MAAAtB,OAAA,gBAEhD,mBAAAuB,EAAA,SAAA3B,IAAA,CAAA4B,KAAA,MAAAC,SAAA,QAAC,CACJ,CAAC,CAED,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CAC/B,GAAM,CAAAhC,OAAO,CAAGL,UAAU,CAAC,CAAC,CAC5B,GAAM,CAAAM,OAAO,CAAGH,cAAc,CAAC,CAAC,CAEhC,MAAO,CAAAD,QAAQ,CAA2C,CACxDoC,QAAQ,CAAE,CAAC,kBAAkB,CAAC,CAC9BC,OAAO,gBAAAC,QAAA,CAAAhC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAA+B,SAAA,MAAAC,cAAA,QAAAjC,mBAAA,GAAAK,IAAA,UAAA6B,UAAAC,SAAA,iBAAAA,SAAA,CAAA3B,IAAA,CAAA2B,SAAA,CAAA1B,IAAA,SAAA0B,SAAA,CAAA3B,IAAA,GAAA2B,SAAA,CAAA1B,IAAA,SAEQ,CAAAnB,KAAK,CAAC8C,GAAG,IAAAzB,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,sBAAsB,cAAa,CAAEjB,OAAO,CAAPA,OAAQ,CAAC,CAAC,eAAAsC,SAAA,CAAAlB,MAAA,UAAAkB,SAAA,CAAAjB,IAAA,SAAAiB,SAAA,CAAA3B,IAAA,GAAA2B,SAAA,CAAAhB,EAAA,CAAAgB,SAAA,aAErFf,OAAO,CAACC,KAAK,CAAAc,SAAA,CAAAhB,EAAI,CAAC,CAClB,GAAI,CAAAgB,SAAA,CAAAhB,EAAA,SAAAgB,SAAA,CAAAhB,EAAA,kBAAAc,cAAA,CAAAE,SAAA,CAAAhB,EAAA,CAAKG,QAAQ,UAAAW,cAAA,iBAAbA,cAAA,CAAeV,MAAM,IAAK,GAAG,CAAE3B,OAAO,CAAC,CAAC,CAAC,yBAAAuC,SAAA,CAAAX,IAAA,MAAAQ,QAAA,gBAEhD,YAAAF,QAAA,SAAAC,QAAA,CAAAL,KAAA,MAAAC,SAAA,UAAAG,OAAA,IACH,CAAC,CAAC,CACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}