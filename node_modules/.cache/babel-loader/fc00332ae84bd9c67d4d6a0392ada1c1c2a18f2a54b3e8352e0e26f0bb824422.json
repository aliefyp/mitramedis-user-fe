{"ast":null,"code":"import{useEffect}from\"react\";import{useAllPatient,useDeletePatient}from\"api/patient\";import PageHeading from\"components/PageHeading\";import PasienFilter from\"./components/PasienFilter\";import PasienTable from\"./components/PasienTable\";import{useLocation,useNavigate}from\"react-router-dom\";import Button from\"components/Button\";import{TbPlus}from\"react-icons/tb\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PatientPage=function PatientPage(){var _data$data,_data$data$data,_data$data2,_data$data2$data;var location=useLocation();var navigate=useNavigate();var _useAllPatient=useAllPatient(),data=_useAllPatient.data,isFetching=_useAllPatient.isFetching,setPage=_useAllPatient.setPage,refetch=_useAllPatient.refetch;var deletePatient=useDeletePatient();var handleEditPatient=function handleEditPatient(id){navigate(\"/pasien/edit/\".concat(id));};var handleViewPatient=function handleViewPatient(medical_record_number){navigate(\"/rekam-medis?medical_record_number=\".concat(medical_record_number));};var handleDeletePatient=function handleDeletePatient(id){deletePatient.mutate({patient_id:id});};var handleSubmitFilter=function handleSubmitFilter(filter){var query=new URLSearchParams(filter).toString();navigate(\"\".concat(location.pathname,\"?\").concat(query));};useEffect(function(){if(deletePatient.isSuccess)refetch();},[deletePatient.isSuccess,refetch]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PageHeading,{title:\"Data Pasien\",breadcrumbs:[{text:\"Pasien\"}],children:/*#__PURE__*/_jsx(Button,{className:\"w-full sm:w-auto\",onClick:function onClick(){return navigate(\"/pasien/new\");},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(TbPlus,{}),\"Pasien Baru\"]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(PasienFilter,{onSubmit:handleSubmitFilter}),/*#__PURE__*/_jsx(PasienTable,{data:data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:(_data$data$data=_data$data.data)===null||_data$data$data===void 0?void 0:_data$data$data.patient,pagination:data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$data=_data$data2.data)===null||_data$data2$data===void 0?void 0:_data$data2$data.pagination,loading:isFetching,onPageChange:setPage,onDelete:handleDeletePatient,onEdit:handleEditPatient,onView:handleViewPatient})]})]});};export default PatientPage;","map":{"version":3,"names":["useEffect","useAllPatient","useDeletePatient","PageHeading","PasienFilter","PasienTable","useLocation","useNavigate","Button","TbPlus","jsx","_jsx","jsxs","_jsxs","PatientPage","_data$data","_data$data$data","_data$data2","_data$data2$data","location","navigate","_useAllPatient","data","isFetching","setPage","refetch","deletePatient","handleEditPatient","id","concat","handleViewPatient","medical_record_number","handleDeletePatient","mutate","patient_id","handleSubmitFilter","filter","query","URLSearchParams","toString","pathname","isSuccess","children","title","breadcrumbs","text","className","onClick","onSubmit","patient","pagination","loading","onPageChange","onDelete","onEdit","onView"],"sources":["/Users/risky.setiyawan/Documents/Proj/mitramedis-frontend/src/pages/Patient/index.tsx"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useAllPatient, useDeletePatient } from \"api/patient\";\nimport PageHeading from \"components/PageHeading\";\nimport PasienFilter from \"./components/PasienFilter\";\nimport PasienTable from \"./components/PasienTable\";\nimport { useLocation, useNavigate } from \"react-router-dom\";\nimport Button from \"components/Button\";\nimport { TbPlus } from \"react-icons/tb\";\n\nconst PatientPage = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { data, isFetching, setPage, refetch } = useAllPatient();\n  const deletePatient = useDeletePatient();\n\n  const handleEditPatient = (id: string) => {\n    navigate(`/pasien/edit/${id}`);\n  };\n\n  const handleViewPatient = (medical_record_number: string) => {\n    navigate(`/rekam-medis?medical_record_number=${medical_record_number}`);\n  };\n\n  const handleDeletePatient = (id: string) => {\n    deletePatient.mutate({ patient_id: id });\n  };\n\n  const handleSubmitFilter = (filter) => {\n    const query = new URLSearchParams(filter).toString();\n    navigate(`${location.pathname}?${query}`);\n  };\n\n  useEffect(() => {\n    if (deletePatient.isSuccess) refetch();\n  }, [deletePatient.isSuccess, refetch]);\n\n  return (\n    <div>\n      <PageHeading title=\"Data Pasien\" breadcrumbs={[{ text: \"Pasien\" }]}>\n        <Button\n          className=\"w-full sm:w-auto\"\n          onClick={() => navigate(\"/pasien/new\")}\n        >\n          <div className=\"flex items-center gap-4\">\n            <TbPlus />\n            Pasien Baru\n          </div>\n        </Button>\n      </PageHeading>\n      <div className=\"space-y-4\">\n        <PasienFilter onSubmit={handleSubmitFilter} />\n        <PasienTable\n          data={data?.data?.data?.patient}\n          pagination={data?.data?.data?.pagination}\n          loading={isFetching}\n          onPageChange={setPage}\n          onDelete={handleDeletePatient}\n          onEdit={handleEditPatient}\n          onView={handleViewPatient}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default PatientPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}